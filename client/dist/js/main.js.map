{"version":3,"sources":["webpack:///./client/src/js/components/Game.jsx","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/scss/main.scss?6930","webpack:///./client/src/js/actions/gameActions.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/components/layout/TextBox.jsx","webpack:///./client/src/js/components/layout/ViewBox.jsx","webpack:///./client/src/js/graphql/readAdventure.js","webpack:///./client/src/js/reducers/gameReducer.js","webpack:///./client/src/js/actions/ActionTypes.js"],"names":["Game","page","props","data","readAdventurePages","undefined","edges","node","propTypes","PropTypes","shape","loading","bool","error","object","isRequired","graphql","reducers","client","combineReducers","reducer","goTo","type","ActionType","GO_TO","payload","container","document","querySelector","networkInterface","createNetworkInterface","uri","dataset","apiUrl","opts","credentials","reduxRootSelector","state","composedMiddleware","compose","applyMiddleware","middleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","store","createStore","allReducers","ReactDom","render","TextBox","console","log","Choices","map","choice","ID","dispatch","GoTo","Content","renderChoices","defaultProps","string","array","func","connect","ViewBox","defaultState","current","action","ActionTypes","FETCH_DATA_LOADING","FETCH_DATA_SUCCESS","FETCH_DATA_ERROR"],"mappings":"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","file":"js/main.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from 'react-apollo';\n\nimport readAdventure from 'graphql/readAdventure';\nimport ViewBox from 'components/layout/ViewBox';\nimport TextBox from 'components/layout/TextBox';\n\nclass Game extends Component {\n  render() {\n    let page;\n    if (this.props.data.readAdventurePages !== undefined) {\n      page = this.props.data.readAdventurePages.edges[0].node;\n    }\n    return (\n      <div className=\"app\">\n        <ViewBox page={page} />\n        <TextBox page={page} />\n      </div>\n    );\n  }\n}\n\nGame.propTypes = {\n  data: PropTypes.shape({\n    loading: PropTypes.bool,\n    error: PropTypes.object,\n    readAdventurePages: PropTypes.object,\n  }).isRequired,\n};\n\nexport default graphql(readAdventure)(Game);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Game.jsx","import {\n  combineReducers,\n} from 'redux';\n\nimport dataReducer from 'reducers/gameReducer';\n\nexport default function reducers(client) {\n  return combineReducers({\n    data: dataReducer,\n    client: client.reducer(),\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/scss/main.scss\n// module id = 133\n// module chunks = 0","import ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function goTo(page) {\n  return {\n    type: ActionType.GO_TO,\n    payload: page,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/gameActions.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport ApolloClient, { createNetworkInterface } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\n\nimport allReducers from 'reducers';\nimport Game from 'components/Game';\n\n// eslint-disable-next-line import/no-unresolved, import/no-extraneous-dependencies\nimport 'main.scss';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.adventure_game');\n\nconst client = new ApolloClient({\n  networkInterface: createNetworkInterface({\n    uri: container.dataset.apiUrl,\n    opts: {\n      credentials: 'same-origin',\n    },\n  }),\n  reduxRootSelector: state => state.client,\n});\n\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(client.middleware(), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\nconst store = createStore(allReducers(client), composedMiddleware());\n\nReactDom.render(\n  <ApolloProvider store={store} client={client}>\n    <Game />\n  </ApolloProvider>\n  , container);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { goTo } from 'actions/gameActions';\n\nclass TextBox extends Component {\n  renderChoices() {\n    console.log(this.props.page.Choices.edges);\n    return this.props.page.Choices.edges.map(choice => (\n      <li\n        key={choice.node.ID}\n        onClick={() => { this.props.dispatch(goTo(choice.node.GoTo.ID)); }}\n      >{choice.node.Content}</li>\n    ));\n  }\n\n  render() {\n    return (\n      <div className=\"text-box\">\n        <div className=\"content\">\n          {this.props.page.Content}\n        </div>\n        <ul className=\"choices\">\n          {this.renderChoices()}\n        </ul>\n      </div>\n    );\n  }\n}\n\nTextBox.defaultProps = {\n  page: {\n    Content: '',\n    Choices: {\n      edges: [],\n    },\n  },\n};\n\nTextBox.propTypes = {\n  page: PropTypes.shape({\n    Content: PropTypes.string,\n    Choices: PropTypes.shape({\n      edges: PropTypes.array,\n    }),\n  }),\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect()(TextBox);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/layout/TextBox.jsx","import React, { Component } from 'react';\n\nclass ViewBox extends Component {\n  render() {\n    return (\n      <div className=\"view-box\">\n        {}\n      </div>\n    );\n  }\n}\n\nexport default ViewBox;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/layout/ViewBox.jsx","import gql from 'graphql-tag';\n\nexport default gql`\n  query {\n    readAdventurePages(ID: 1) {\n      edges {\n        node {\n          ID,\n          Content,\n          Choices {\n            edges {\n              node {\n                ID,\n                Content,\n                GoTo {\n                  ID\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/graphql/readAdventure.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  current: 0,\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.GO_TO:\n      return {\n        ...state,\n        current: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/gameReducer.js","/*\n * List of action types.\n * Could just be strings, but I feel better when referencing a constant that doesn't change.\n */\nconst ActionTypes = {\n  // Data fetching\n  FETCH_DATA_LOADING: 'FETCH_DATA_LOADING',\n  FETCH_DATA_SUCCESS: 'FETCH_DATA_SUCCESS',\n  FETCH_DATA_ERROR: 'FETCH_DATA_ERROR',\n\n  // Game\n  GO_TO: 'GO_TO',\n};\n\nexport default ActionTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/ActionTypes.js"],"sourceRoot":""}